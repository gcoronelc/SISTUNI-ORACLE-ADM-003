    

 
CONNECT MOD/MOD2019



DROP TABLE MOD.tbl_registro;
DROP TABLE MOD.tbl_combinacion;
DROP TABLE MOD.tbl_tipo_cont;
DROP TABLE MOD.tbl_tipo_estado;
DROP TABLE MOD.det_pcm_reg_msj;
DROP TABLE MOD.tbl_pcm_registro;


  CREATE TABLE MOD.TBL_REGISTRO 
   (	N_ID_REGISTRO NUMBER(15,0) NOT NULL ENABLE, 
	N_ANO_PRE_RDC NUMBER(4,0) NOT NULL ENABLE, 
	C_ANO_ENT_REC CHAR(4 BYTE) NOT NULL ENABLE, 
	C_COD_ENT_REC CHAR(6 BYTE) NOT NULL ENABLE, 
	C_RUC_ENT CHAR(11 BYTE) NOT NULL ENABLE, 
	N_ID_PCMREG NUMBER(14,0), 
	N_ID_TPOESTADO NUMBER(9,0) NOT NULL ENABLE, 
	C_DES_OBJCONT VARCHAR2(30 BYTE), 
	C_DES_RDC VARCHAR2(200 BYTE), 
	C_COD_CONT VARCHAR2(200 CHAR), 
	N_TIPO_CONT NUMBER(9,0) NOT NULL ENABLE, 
	N_NRO_CONT NUMBER(13,0), 
	C_SIGLA_CONT CHAR(15 BYTE) NOT NULL ENABLE, 
	D_FECEMS_CONT DATE, 
	D_FECNTF_CONT DATE, 
	C_MONC_CONT VARCHAR2(20 BYTE), 
	N_TCMB_MC_CONT NUMBER(18,4), 
	N_MP_MONT_CONT NUMBER(20,4), 
	N_MP_MONC_CONT NUMBER(18,2), 
	C_COD_CONTA VARCHAR2(11 BYTE) NOT NULL ENABLE, 
	C_NOM_RZS_CONTA VARCHAR2(200 BYTE) NOT NULL ENABLE, 
	C_USU_CREA VARCHAR2(30 BYTE), 
	D_FEC_CREA DATE ) ;

   COMMENT ON COLUMN MOD.TBL_REGISTRO.N_ID_REGISTRO IS 'Identificador de la Tabla de Registro de Ordenes';
   COMMENT ON COLUMN MOD.TBL_REGISTRO.N_ANO_PRE_RDC IS 'Año de Orden';
   COMMENT ON COLUMN MOD.TBL_REGISTRO.C_ANO_ENT_REC IS 'Año de Entidad';
   COMMENT ON COLUMN MOD.TBL_REGISTRO.C_COD_ENT_REC IS 'Codigo de Entidad';
   COMMENT ON COLUMN MOD.TBL_REGISTRO.C_RUC_ENT IS 'Ruc de Entidad';
   COMMENT ON COLUMN MOD.TBL_REGISTRO.N_ID_PCMREG IS 'Identificador de Carga Masiva';
   COMMENT ON COLUMN MOD.TBL_REGISTRO.N_ID_TPOESTADO IS 'Identificador de Estado de Orden';
   COMMENT ON COLUMN MOD.TBL_REGISTRO.C_DES_OBJCONT IS 'Objeto de Contratacion';
   COMMENT ON COLUMN MOD.TBL_REGISTRO.C_DES_RDC IS 'Descripcion de la orden';
   COMMENT ON COLUMN MOD.TBL_REGISTRO.C_COD_CONT IS 'Nomenclatura de la Orden';
   COMMENT ON COLUMN MOD.TBL_REGISTRO.N_TIPO_CONT IS 'Identificador de Tipo de Orden';
   COMMENT ON COLUMN MOD.TBL_REGISTRO.N_NRO_CONT IS 'Numero de la Orden';
   COMMENT ON COLUMN MOD.TBL_REGISTRO.C_SIGLA_CONT IS 'Sigla de la Entidad';
   COMMENT ON COLUMN MOD.TBL_REGISTRO.D_FECEMS_CONT IS 'Fecha de Emision';
   COMMENT ON COLUMN MOD.TBL_REGISTRO.D_FECNTF_CONT IS 'Fecha de Notificacion';
   COMMENT ON COLUMN MOD.TBL_REGISTRO.C_MONC_CONT IS 'Moneda Real';
   COMMENT ON COLUMN MOD.TBL_REGISTRO.N_TCMB_MC_CONT IS 'Tipo de cambio a soles';
   COMMENT ON COLUMN MOD.TBL_REGISTRO.N_MP_MONT_CONT IS 'Importe del Monto Total en Soles';
   COMMENT ON COLUMN MOD.TBL_REGISTRO.N_MP_MONC_CONT IS 'Importe del Monto en Moneda Real';
   COMMENT ON COLUMN MOD.TBL_REGISTRO.C_COD_CONTA IS 'Ruc del Contratista';
   COMMENT ON COLUMN MOD.TBL_REGISTRO.C_NOM_RZS_CONTA IS 'Razon Social del Contratista';
   COMMENT ON COLUMN MOD.TBL_REGISTRO.C_USU_CREA IS 'Usuario de creacion del sistema';
   COMMENT ON COLUMN MOD.TBL_REGISTRO.D_FEC_CREA IS 'Fecha de creacion del sistema';
   COMMENT ON TABLE MOD.TBL_REGISTRO  IS 'Tabla de Registro de Ordenes';

ALTER TABLE MOD.TBL_REGISTRO
	ADD  PRIMARY KEY (N_ID_REGISTRO);


CREATE TABLE MOD.TBL_PCM_REGISTRO 
   (	N_ID_PCMREG NUMBER(14,0) NOT NULL ENABLE, 
	C_TIT_PCMREG VARCHAR2(100 BYTE), 
	C_RUC_ENT VARCHAR2(11 BYTE), 
	C_EST_PCMREG VARCHAR2(20 BYTE), 
	D_FECSOL_PCMREG DATE, 
	D_FECINI_PCMREG DATE, 
	D_FECTER_PCMREG DATE, 
	N_TOTREG_PCMREG NUMBER(9,0), 
	N_IND_ERROR NUMBER(1,0), 
	C_MSJ_ERROR VARCHAR2(500 BYTE), 
	C_USU_CREA VARCHAR2(30 BYTE), 
	D_FEC_CREA DATE);

   COMMENT ON COLUMN MOD.TBL_PCM_REGISTRO.N_ID_PCMREG IS 'Identificador de Carga Masiva';
   COMMENT ON COLUMN MOD.TBL_PCM_REGISTRO.C_TIT_PCMREG IS 'Titulo de la Carga Masiva';
   COMMENT ON COLUMN MOD.TBL_PCM_REGISTRO.C_RUC_ENT IS 'Ruc de la Entidad';
   COMMENT ON COLUMN MOD.TBL_PCM_REGISTRO.C_EST_PCMREG IS 'Estado de la Carga Masiva';
   COMMENT ON COLUMN MOD.TBL_PCM_REGISTRO.D_FECSOL_PCMREG IS 'Fecha de Solicitud';
   COMMENT ON COLUMN MOD.TBL_PCM_REGISTRO.D_FECINI_PCMREG IS 'Fecha de Inicio de Procesamiento';
   COMMENT ON COLUMN MOD.TBL_PCM_REGISTRO.D_FECTER_PCMREG IS 'Fecha de Termino del Procesamiento';
   COMMENT ON COLUMN MOD.TBL_PCM_REGISTRO.N_TOTREG_PCMREG IS 'Total de Ordenes de Registrar';
   COMMENT ON COLUMN MOD.TBL_PCM_REGISTRO.N_IND_ERROR IS 'Codigo de Error';
   COMMENT ON COLUMN MOD.TBL_PCM_REGISTRO.C_MSJ_ERROR IS 'Mensaje de Error';
   COMMENT ON COLUMN MOD.TBL_PCM_REGISTRO.C_USU_CREA IS 'Usuario de creacion';
   COMMENT ON COLUMN MOD.TBL_PCM_REGISTRO.D_FEC_CREA IS 'Fecha de Creacion';
   COMMENT ON TABLE MOD.TBL_PCM_REGISTRO  IS 'Tabla de Carga Masiva';
   
ALTER TABLE MOD.TBL_PCM_REGISTRO
	ADD  PRIMARY KEY (N_ID_PCMREG);



 CREATE TABLE MOD.DET_PCM_REG_MSJ 
   (	N_ITEM_PCMREG NUMBER(9,0) NOT NULL ENABLE, 
	N_ID_PCMREG NUMBER(14,0) NOT NULL ENABLE, 
	C_MSJ_ERROR VARCHAR2(2000 BYTE), 
	C_COD_CONT VARCHAR2(200 CHAR), 
	C_DES_REG VARCHAR2(500 BYTE)
    );

   COMMENT ON COLUMN MOD.DET_PCM_REG_MSJ.N_ITEM_PCMREG IS 'Identificador de Mensajes';
   COMMENT ON COLUMN MOD.DET_PCM_REG_MSJ.N_ID_PCMREG IS 'Identificador de carga masiva';
   COMMENT ON COLUMN MOD.DET_PCM_REG_MSJ.C_MSJ_ERROR IS 'Mensaje de error';
   COMMENT ON COLUMN MOD.DET_PCM_REG_MSJ.C_COD_CONT IS 'Nomenclatura de la Orden';
   COMMENT ON COLUMN MOD.DET_PCM_REG_MSJ.C_DES_REG IS 'Descripcion adicional de registro';
   COMMENT ON TABLE MOD.DET_PCM_REG_MSJ  IS 'Tabla detalle de Error en Carga Masiva';
   
    ALTER TABLE MOD.DET_PCM_REG_MSJ
	ADD  PRIMARY KEY (N_ITEM_PCMREG);



  CREATE TABLE MOD.TBL_TIPO_ESTADO 
   (	N_ID_TPOESTADO NUMBER(9,0) NOT NULL ENABLE, 
	C_NOM_TPODC VARCHAR2(150 CHAR), 
	N_EST_TPODC NUMBER(9,0), 
	C_USU_CREA VARCHAR2(30 BYTE), 
	D_FEC_CREA DATE
    );

   COMMENT ON COLUMN MOD.TBL_TIPO_ESTADO.N_ID_TPOESTADO IS 'Identificador Estado de la Orden';
   COMMENT ON COLUMN MOD.TBL_TIPO_ESTADO.C_NOM_TPODC IS 'Nombre del estado de la Orden  (Anulada, Emitida, Comprometida)';
   COMMENT ON COLUMN MOD.TBL_TIPO_ESTADO.N_EST_TPODC IS 'Estado del tipo de estado de la orden';
   COMMENT ON COLUMN MOD.TBL_TIPO_ESTADO.C_USU_CREA IS 'usuario de creacion';
   COMMENT ON COLUMN MOD.TBL_TIPO_ESTADO.D_FEC_CREA IS 'Fecha de creacion';  
   COMMENT ON TABLE MOD.TBL_TIPO_ESTADO  IS 'Tabla de Estados de la Orden';

ALTER TABLE MOD.TBL_TIPO_ESTADO
	ADD  PRIMARY KEY (N_ID_TPOESTADO);



CREATE TABLE MOD.TBL_COMBINACION 
   (	N_ID_COMB NUMBER(9,0) NOT NULL ENABLE, 
	N_ID_TPOESTADO NUMBER(9,0) NOT NULL ENABLE, 
	C_OBJCONT VARCHAR2(20 BYTE), 
	N_TIPO_CONT NUMBER(9,0), 
	C_USU_CREA VARCHAR2(30 BYTE), 
	D_FEC_CREA DATE
    );


   COMMENT ON COLUMN MOD.TBL_COMBINACION.N_ID_COMB IS 'Identificador de Combinacion Posible';
   COMMENT ON COLUMN MOD.TBL_COMBINACION.N_ID_TPOESTADO IS 'Identificador de estado de la orden';
   COMMENT ON COLUMN MOD.TBL_COMBINACION.C_OBJCONT IS 'Objeto de la contratacion';
   COMMENT ON COLUMN MOD.TBL_COMBINACION.N_TIPO_CONT IS 'Identificador del Tipo de Orden';
   COMMENT ON COLUMN MOD.TBL_COMBINACION.C_USU_CREA IS 'Usuario de creacion';
   COMMENT ON COLUMN MOD.TBL_COMBINACION.D_FEC_CREA IS 'Fecha de Creación';
   COMMENT ON TABLE MOD.TBL_COMBINACION  IS 'Tabla de Estados de Combinaciones para una Orden';

ALTER TABLE MOD.TBL_COMBINACION
	ADD  PRIMARY KEY (N_ID_COMB);



 CREATE TABLE MOD.TBL_TIPO_CONT 
   (	N_TIPO_CONT NUMBER(9,0) NOT NULL ENABLE, 
	C_NOM_CONT VARCHAR2(80 BYTE), 
	N_EST_CONT NUMBER(9,0), 
	C_USU_CREA VARCHAR2(30 BYTE), 
	D_FEC_CREA DATE
);


   COMMENT ON COLUMN MOD.TBL_TIPO_CONT.N_TIPO_CONT IS 'Identificador Tipo de Orden';
   COMMENT ON COLUMN MOD.TBL_TIPO_CONT.C_NOM_CONT IS 'OC o OS';
   COMMENT ON COLUMN MOD.TBL_TIPO_CONT.N_EST_CONT IS 'Estado de la orden';
   COMMENT ON COLUMN MOD.TBL_TIPO_CONT.C_USU_CREA IS 'Usuario del sistema de creacion';
   COMMENT ON COLUMN MOD.TBL_TIPO_CONT.D_FEC_CREA IS 'fecha de creacion';
   COMMENT ON TABLE MOD.TBL_TIPO_CONT  IS 'Tabla de Tipo de Orden para un Registro';

ALTER TABLE MOD.TBL_TIPO_CONT
	ADD  PRIMARY KEY (N_TIPO_CONT);





ALTER TABLE MOD.DET_PCM_REG_MSJ   
	ADD (FOREIGN KEY (N_ID_PCMREG) REFERENCES MOD.TBL_PCM_REGISTRO
(N_ID_PCMREG) ON DELETE SET NULL);


ALTER TABLE MOD.TBL_REGISTRO      
	ADD (FOREIGN KEY (N_ID_PCMREG) REFERENCES MOD.TBL_PCM_REGISTRO
(N_ID_PCMREG) ON DELETE SET NULL);


ALTER TABLE MOD.TBL_REGISTRO    
	ADD (FOREIGN KEY (N_TIPO_CONT) REFERENCES MOD.TBL_TIPO_CONT 
(N_TIPO_CONT) ON DELETE SET NULL);

ALTER TABLE MOD.TBL_COMBINACION  
	ADD (FOREIGN KEY (N_TIPO_CONT) REFERENCES MOD.TBL_TIPO_CONT 
(N_TIPO_CONT) ON DELETE SET NULL);


ALTER TABLE MOD.TBL_REGISTRO  
	ADD (FOREIGN KEY (N_ID_TPOESTADO) REFERENCES MOD.TBL_TIPO_ESTADO 
(N_ID_TPOESTADO) ON DELETE SET NULL);


ALTER TABLE MOD.TBL_COMBINACION  
	ADD (FOREIGN KEY (N_ID_TPOESTADO) REFERENCES MOD.TBL_TIPO_ESTADO
 (N_ID_TPOESTADO) ON DELETE SET NULL);








----michel_9876@hotmail.com


show user;
    
